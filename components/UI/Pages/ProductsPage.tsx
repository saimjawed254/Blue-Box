"use client";

import "./ProductsPage.css";
import ProductsSidebar from "@/components/UI/ProductsSideBar";
import ProductCard from "@/components/UI/Cards/ProductCard";
import { useEffect, useState } from "react";
import { useGSAP } from "@gsap/react";
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
import { Poppins } from "next/font/google";
import PrimaryButton from "@/components/UI/Buttons/PrimaryButton";
import { Product } from "@/src/db/schema/products";

type ProductsPageProps = {
  slug: string[];
  total: number;
  productsData: Product[];
};

const poppins = Poppins({
  subsets: ["latin"],
  weight: ["400", "300", "200", "100"],
});

export default function ProductsPage({
  slug,
  total,
  productsData,
}: ProductsPageProps) {
  console.log(slug, total);
  let slugString = "";
  if (slug.length === 1) {
    slugString = slug[0].charAt(0).toUpperCase() + slug[0].substring(1);
  } else {
    slugString = slug[0] + " > " + slug[1];
  }
  const [products, setProducts] = useState(productsData);
  const [sortButtonActive, setSortButtonActive] = useState(false);
  const [selectedSort, setSelectedSort] = useState<string>("price_low_to_high");
  const [svgSize,setSvgSize]=useState(1);

  const [availableSorts, setAvailableSorts] = useState<string[]>([
    "price_high_to_low",
    "best_sellers",
    "newest_arrivals",
  ]);
  const [filters, setFilters] = useState<{
    brands?: string[];
    priceRange?: [number, number];
    colors?: string[];
    discounts?: string;
  }>({});
  function vwToPx(e: number) {
    return (window.innerWidth * e) / 100;
  }
  function vhToPx(e: number) {
    return (window.innerHeight * e) / 100;
  }

  useEffect(() => {
    const totalHeight = document.documentElement.scrollHeight;
    console.log("Total scrollable page height:", totalHeight, vhToPx(90));

    if (typeof window !== "undefined") {
      const sidebar = document.querySelector(
        ".products-sidebar"
      ) as HTMLElement;
          const vwToPx = (vw: number) => (window.innerWidth * vw) / 100;
    const vhToPx = (vh: number) => (window.innerHeight * vh) / 100;
    setSvgSize(vwToPx(2.4));

      const footer = document.querySelector(".footer");
      const products = document.querySelector(".products") as HTMLElement;
      const sidebarBg = document.querySelector(
        ".products-page-sidebar"
      ) as HTMLElement;

      if (products && sidebarBg) {
        console.log(products.clientHeight);
        sidebarBg.style.height = `${products.clientHeight}`;
      }

      const observer = new IntersectionObserver(
        ([entry]) => {
          if (entry.isIntersecting && sidebar) {
            sidebar.style.position = "absolute";
            sidebar.style.top = `${totalHeight - Math.round(vhToPx(190))}px`;
          } else {
            sidebar.style.position = "fixed";
            sidebar.style.top = "0px";
          }
        },
        {
          root: null, // viewport
          threshold: 0,
        }
      );

      if (footer) observer.observe(footer);

      return () => {
        if (footer) observer.unobserve(footer);
      };
    }
  }, []);

  useGSAP(() => {
    // gsap.registerPlugin(ScrollTrigger);
    //     const trigger = ScrollTrigger.create({
    //   trigger: ".products", // or sidebarRef.current.parentElement
    //   start: "top 0",
    //   endTrigger: ".pp-footer-space", // acts as a stop before footer
    //   end: "bottom bottom",
    //   pin: ".products-page-sidebar",
    //   pinSpacing: false,
    //   markers:true,
    //   // scrub: true,
    // });

    gsap.to(".pphm1", {
      xPercent: -100,
      repeat: -1,
      duration: 7.5,
      ease: "linear",
    });

    gsap.to(".pphm2", {
      xPercent: 100,
      repeat: -1,
      duration: 7.5,
      ease: "linear",
    });

    gsap.to(".pphm3", {
      xPercent: -100,
      repeat: -1,
      duration: 7.5,
      ease: "linear",
    });
  });

  const handleApplyFilters = async (filters: {
    brands?: string[];
    priceRange?: [number, number];
    colors?: string[];
    discounts?: string;
  }) => {
    setFilters(filters);

    try {
      const res = await fetch("/api/products/filters", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify(filters),
      });

      if (!res.ok) {
        throw new Error("Failed to fetch filtered products");
      }

      const data = await res.json();
      setProducts(data.products);
      // setSelectedSort("price_low_to_high");
      console.log("Hello", data);
    } catch (err) {
      console.error("Error applying filters:", err);
      // Optionally show a toast or error UI
    }
  };

  const handleSortChange = (newSort: string) => {
    setAvailableSorts((prev) => {
      return [selectedSort, ...prev.filter((opt) => opt !== newSort)];
    });

    setSelectedSort(newSort);

    // Optional: trigger API refetch or navigation
    fetchProductsBySort(newSort);
    console.log(newSort);
  };

  const fetchProductsBySort = async (sort: string) => {
    const body = {
      ...filters,
      sort,
      category: slug[1],
      page: 1,
      limit: 20,
    };
    try {
      const res = await fetch("/api/products/filters", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify(body),
      });

      if (!res.ok) {
        throw new Error("Failed to fetch Sorted products");
      }

      const data = await res.json();
      setProducts(data.products);
      console.log("Hello", data);
    } catch (err) {
      console.error("Error applying filters:", err);
      // Optionally show a toast or error UI
    }
  };

  const formatSortOption = (opt: string) => {
    switch (opt) {
      case "price_low_to_high":
        return "Price: Low to High";
      case "price_high_to_low":
        return "Price: High to Low";
      case "best_sellers":
        return "Best Sellers";
      case "newest_arrivals":
        return "Newest Arrivals";
      default:
        return "";
    }
  };

  return (
    <>
      <section className={`products ${poppins.className}`}>
        <div className="products-page-sidebar">
          <ProductsSidebar
            products={products}
            slug={slug[0]}
            totalCount={`${productsData.length}`}
            onApplyFilters={handleApplyFilters}
          />
        </div>
        <div className="products-content">
          <div className="pp-top-buffer"></div>
          <div className="pp-header">
            <div className="pp-header-marquee1">
              <div className="pphm1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width={`${svgSize/1.5}`}
                  height={`${svgSize/1.5}`}
                  viewBox="0 0 35 35"
                  fill="none"
                >
                  <path
                    d="M30.2588 17.5001L31.8688 14.7176C32.0623 14.3828 32.115 13.9849 32.0152 13.6114C31.9153 13.2378 31.6713 12.9192 31.3366 12.7255L28.5511 11.1155V7.9072C28.5511 7.52043 28.3975 7.1495 28.124 6.87601C27.8505 6.60251 27.4796 6.44887 27.0928 6.44887H23.8859L22.2774 3.66491C22.0841 3.32998 21.7657 3.08553 21.3922 2.98533C21.2071 2.93575 21.0142 2.92311 20.8242 2.94813C20.6343 2.97315 20.4512 3.03535 20.2853 3.13116L17.4999 4.74116L14.7145 3.1297C14.3795 2.93632 13.9815 2.88392 13.6079 2.98402C13.2343 3.08411 12.9158 3.32851 12.7224 3.66345L11.1124 6.44887H7.90552C7.51874 6.44887 7.14781 6.60251 6.87432 6.87601C6.60083 7.1495 6.44718 7.52043 6.44718 7.9072V11.1141L3.66177 12.7241C3.49585 12.82 3.35046 12.9476 3.2339 13.0997C3.11734 13.2518 3.0319 13.4254 2.98247 13.6105C2.93303 13.7957 2.92057 13.9887 2.9458 14.1787C2.97102 14.3687 3.03344 14.5518 3.12948 14.7176L4.73948 17.5001L3.12948 20.2826C2.93696 20.6177 2.88473 21.0153 2.98416 21.3888C3.0836 21.7622 3.32665 22.0812 3.66031 22.2762L6.44573 23.8862V27.093C6.44573 27.4798 6.59937 27.8507 6.87286 28.1242C7.14635 28.3977 7.51728 28.5514 7.90406 28.5514H11.1124L12.7224 31.3368C12.8515 31.5575 13.0358 31.7408 13.2573 31.8686C13.4787 31.9965 13.7296 32.0645 13.9853 32.066C14.2391 32.066 14.4913 31.9989 14.7159 31.8691L17.4984 30.2591L20.2839 31.8691C20.6186 32.0626 21.0165 32.1152 21.3901 32.0154C21.7637 31.9156 22.0823 31.6715 22.2759 31.3368L23.8845 28.5514H27.0913C27.4781 28.5514 27.8491 28.3977 28.1225 28.1242C28.396 27.8507 28.5497 27.4798 28.5497 27.093V23.8862L31.3351 22.2762C31.501 22.1803 31.6464 22.0526 31.763 21.9005C31.8795 21.7484 31.965 21.5748 32.0144 21.3897C32.0638 21.2046 32.0763 21.0115 32.0511 20.8215C32.0258 20.6316 31.9634 20.4484 31.8674 20.2826L30.2588 17.5001ZM13.8526 10.1939C14.433 10.1941 14.9895 10.4248 15.3997 10.8353C15.8099 11.2458 16.0403 11.8025 16.0401 12.3828C16.0399 12.9632 15.8092 13.5197 15.3987 13.9299C14.9882 14.3402 14.4315 14.5705 13.8511 14.5703C13.2708 14.5701 12.7143 14.3394 12.304 13.9289C11.8938 13.5184 11.6634 12.9617 11.6636 12.3814C11.6638 11.801 11.8946 11.2445 12.3051 10.8343C12.7156 10.424 13.2722 10.1937 13.8526 10.1939ZM14.2901 24.1939L11.9568 22.4453L20.7068 10.7787L23.0401 12.5272L14.2901 24.1939ZM21.1443 24.7772C20.8569 24.7771 20.5724 24.7204 20.3069 24.6104C20.0415 24.5003 19.8003 24.339 19.5972 24.1358C19.394 23.9325 19.2329 23.6912 19.1231 23.4257C19.0132 23.1602 18.9567 22.8756 18.9568 22.5882C18.9569 22.3009 19.0136 22.0164 19.1236 21.7509C19.2337 21.4854 19.3949 21.2443 19.5982 21.0411C19.8015 20.838 20.0427 20.6769 20.3083 20.567C20.5738 20.4572 20.8584 20.4006 21.1457 20.4007C21.7261 20.4009 22.2826 20.6317 22.6928 21.0422C23.1031 21.4527 23.3334 22.0093 23.3332 22.5897C23.333 23.1701 23.1023 23.7266 22.6918 24.1368C22.2813 24.547 21.7246 24.7774 21.1443 24.7772Z"
                    fill="#B3B29E"
                  />
                </svg>
                &nbsp;&nbsp; Extra 10% discount on your next
                order.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </div>
              <div className="pphm1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width={`${svgSize/1.5}`}
                  height={`${svgSize/1.5}`}
                  viewBox="0 0 35 35"
                  fill="none"
                >
                  <path
                    d="M30.2588 17.5001L31.8688 14.7176C32.0623 14.3828 32.115 13.9849 32.0152 13.6114C31.9153 13.2378 31.6713 12.9192 31.3366 12.7255L28.5511 11.1155V7.9072C28.5511 7.52043 28.3975 7.1495 28.124 6.87601C27.8505 6.60251 27.4796 6.44887 27.0928 6.44887H23.8859L22.2774 3.66491C22.0841 3.32998 21.7657 3.08553 21.3922 2.98533C21.2071 2.93575 21.0142 2.92311 20.8242 2.94813C20.6343 2.97315 20.4512 3.03535 20.2853 3.13116L17.4999 4.74116L14.7145 3.1297C14.3795 2.93632 13.9815 2.88392 13.6079 2.98402C13.2343 3.08411 12.9158 3.32851 12.7224 3.66345L11.1124 6.44887H7.90552C7.51874 6.44887 7.14781 6.60251 6.87432 6.87601C6.60083 7.1495 6.44718 7.52043 6.44718 7.9072V11.1141L3.66177 12.7241C3.49585 12.82 3.35046 12.9476 3.2339 13.0997C3.11734 13.2518 3.0319 13.4254 2.98247 13.6105C2.93303 13.7957 2.92057 13.9887 2.9458 14.1787C2.97102 14.3687 3.03344 14.5518 3.12948 14.7176L4.73948 17.5001L3.12948 20.2826C2.93696 20.6177 2.88473 21.0153 2.98416 21.3888C3.0836 21.7622 3.32665 22.0812 3.66031 22.2762L6.44573 23.8862V27.093C6.44573 27.4798 6.59937 27.8507 6.87286 28.1242C7.14635 28.3977 7.51728 28.5514 7.90406 28.5514H11.1124L12.7224 31.3368C12.8515 31.5575 13.0358 31.7408 13.2573 31.8686C13.4787 31.9965 13.7296 32.0645 13.9853 32.066C14.2391 32.066 14.4913 31.9989 14.7159 31.8691L17.4984 30.2591L20.2839 31.8691C20.6186 32.0626 21.0165 32.1152 21.3901 32.0154C21.7637 31.9156 22.0823 31.6715 22.2759 31.3368L23.8845 28.5514H27.0913C27.4781 28.5514 27.8491 28.3977 28.1225 28.1242C28.396 27.8507 28.5497 27.4798 28.5497 27.093V23.8862L31.3351 22.2762C31.501 22.1803 31.6464 22.0526 31.763 21.9005C31.8795 21.7484 31.965 21.5748 32.0144 21.3897C32.0638 21.2046 32.0763 21.0115 32.0511 20.8215C32.0258 20.6316 31.9634 20.4484 31.8674 20.2826L30.2588 17.5001ZM13.8526 10.1939C14.433 10.1941 14.9895 10.4248 15.3997 10.8353C15.8099 11.2458 16.0403 11.8025 16.0401 12.3828C16.0399 12.9632 15.8092 13.5197 15.3987 13.9299C14.9882 14.3402 14.4315 14.5705 13.8511 14.5703C13.2708 14.5701 12.7143 14.3394 12.304 13.9289C11.8938 13.5184 11.6634 12.9617 11.6636 12.3814C11.6638 11.801 11.8946 11.2445 12.3051 10.8343C12.7156 10.424 13.2722 10.1937 13.8526 10.1939ZM14.2901 24.1939L11.9568 22.4453L20.7068 10.7787L23.0401 12.5272L14.2901 24.1939ZM21.1443 24.7772C20.8569 24.7771 20.5724 24.7204 20.3069 24.6104C20.0415 24.5003 19.8003 24.339 19.5972 24.1358C19.394 23.9325 19.2329 23.6912 19.1231 23.4257C19.0132 23.1602 18.9567 22.8756 18.9568 22.5882C18.9569 22.3009 19.0136 22.0164 19.1236 21.7509C19.2337 21.4854 19.3949 21.2443 19.5982 21.0411C19.8015 20.838 20.0427 20.6769 20.3083 20.567C20.5738 20.4572 20.8584 20.4006 21.1457 20.4007C21.7261 20.4009 22.2826 20.6317 22.6928 21.0422C23.1031 21.4527 23.3334 22.0093 23.3332 22.5897C23.333 23.1701 23.1023 23.7266 22.6918 24.1368C22.2813 24.547 21.7246 24.7774 21.1443 24.7772Z"
                    fill="#B3B29E"
                  />
                </svg>
                &nbsp;&nbsp; Extra 10% discount on your next
                order.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </div>
              <div className="pphm1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width={`${svgSize/1.5}`}
                  height={`${svgSize/1.5}`}
                  viewBox="0 0 35 35"
                  fill="none"
                >
                  <path
                    d="M30.2588 17.5001L31.8688 14.7176C32.0623 14.3828 32.115 13.9849 32.0152 13.6114C31.9153 13.2378 31.6713 12.9192 31.3366 12.7255L28.5511 11.1155V7.9072C28.5511 7.52043 28.3975 7.1495 28.124 6.87601C27.8505 6.60251 27.4796 6.44887 27.0928 6.44887H23.8859L22.2774 3.66491C22.0841 3.32998 21.7657 3.08553 21.3922 2.98533C21.2071 2.93575 21.0142 2.92311 20.8242 2.94813C20.6343 2.97315 20.4512 3.03535 20.2853 3.13116L17.4999 4.74116L14.7145 3.1297C14.3795 2.93632 13.9815 2.88392 13.6079 2.98402C13.2343 3.08411 12.9158 3.32851 12.7224 3.66345L11.1124 6.44887H7.90552C7.51874 6.44887 7.14781 6.60251 6.87432 6.87601C6.60083 7.1495 6.44718 7.52043 6.44718 7.9072V11.1141L3.66177 12.7241C3.49585 12.82 3.35046 12.9476 3.2339 13.0997C3.11734 13.2518 3.0319 13.4254 2.98247 13.6105C2.93303 13.7957 2.92057 13.9887 2.9458 14.1787C2.97102 14.3687 3.03344 14.5518 3.12948 14.7176L4.73948 17.5001L3.12948 20.2826C2.93696 20.6177 2.88473 21.0153 2.98416 21.3888C3.0836 21.7622 3.32665 22.0812 3.66031 22.2762L6.44573 23.8862V27.093C6.44573 27.4798 6.59937 27.8507 6.87286 28.1242C7.14635 28.3977 7.51728 28.5514 7.90406 28.5514H11.1124L12.7224 31.3368C12.8515 31.5575 13.0358 31.7408 13.2573 31.8686C13.4787 31.9965 13.7296 32.0645 13.9853 32.066C14.2391 32.066 14.4913 31.9989 14.7159 31.8691L17.4984 30.2591L20.2839 31.8691C20.6186 32.0626 21.0165 32.1152 21.3901 32.0154C21.7637 31.9156 22.0823 31.6715 22.2759 31.3368L23.8845 28.5514H27.0913C27.4781 28.5514 27.8491 28.3977 28.1225 28.1242C28.396 27.8507 28.5497 27.4798 28.5497 27.093V23.8862L31.3351 22.2762C31.501 22.1803 31.6464 22.0526 31.763 21.9005C31.8795 21.7484 31.965 21.5748 32.0144 21.3897C32.0638 21.2046 32.0763 21.0115 32.0511 20.8215C32.0258 20.6316 31.9634 20.4484 31.8674 20.2826L30.2588 17.5001ZM13.8526 10.1939C14.433 10.1941 14.9895 10.4248 15.3997 10.8353C15.8099 11.2458 16.0403 11.8025 16.0401 12.3828C16.0399 12.9632 15.8092 13.5197 15.3987 13.9299C14.9882 14.3402 14.4315 14.5705 13.8511 14.5703C13.2708 14.5701 12.7143 14.3394 12.304 13.9289C11.8938 13.5184 11.6634 12.9617 11.6636 12.3814C11.6638 11.801 11.8946 11.2445 12.3051 10.8343C12.7156 10.424 13.2722 10.1937 13.8526 10.1939ZM14.2901 24.1939L11.9568 22.4453L20.7068 10.7787L23.0401 12.5272L14.2901 24.1939ZM21.1443 24.7772C20.8569 24.7771 20.5724 24.7204 20.3069 24.6104C20.0415 24.5003 19.8003 24.339 19.5972 24.1358C19.394 23.9325 19.2329 23.6912 19.1231 23.4257C19.0132 23.1602 18.9567 22.8756 18.9568 22.5882C18.9569 22.3009 19.0136 22.0164 19.1236 21.7509C19.2337 21.4854 19.3949 21.2443 19.5982 21.0411C19.8015 20.838 20.0427 20.6769 20.3083 20.567C20.5738 20.4572 20.8584 20.4006 21.1457 20.4007C21.7261 20.4009 22.2826 20.6317 22.6928 21.0422C23.1031 21.4527 23.3334 22.0093 23.3332 22.5897C23.333 23.1701 23.1023 23.7266 22.6918 24.1368C22.2813 24.547 21.7246 24.7774 21.1443 24.7772Z"
                    fill="#B3B29E"
                  />
                </svg>
                &nbsp;&nbsp; Extra 10% discount on your next
                order.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </div>
              <div className="pphm1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width={`${svgSize/1.5}`}
                  height={`${svgSize/1.5}`}
                  viewBox="0 0 35 35"
                  fill="none"
                >
                  <path
                    d="M30.2588 17.5001L31.8688 14.7176C32.0623 14.3828 32.115 13.9849 32.0152 13.6114C31.9153 13.2378 31.6713 12.9192 31.3366 12.7255L28.5511 11.1155V7.9072C28.5511 7.52043 28.3975 7.1495 28.124 6.87601C27.8505 6.60251 27.4796 6.44887 27.0928 6.44887H23.8859L22.2774 3.66491C22.0841 3.32998 21.7657 3.08553 21.3922 2.98533C21.2071 2.93575 21.0142 2.92311 20.8242 2.94813C20.6343 2.97315 20.4512 3.03535 20.2853 3.13116L17.4999 4.74116L14.7145 3.1297C14.3795 2.93632 13.9815 2.88392 13.6079 2.98402C13.2343 3.08411 12.9158 3.32851 12.7224 3.66345L11.1124 6.44887H7.90552C7.51874 6.44887 7.14781 6.60251 6.87432 6.87601C6.60083 7.1495 6.44718 7.52043 6.44718 7.9072V11.1141L3.66177 12.7241C3.49585 12.82 3.35046 12.9476 3.2339 13.0997C3.11734 13.2518 3.0319 13.4254 2.98247 13.6105C2.93303 13.7957 2.92057 13.9887 2.9458 14.1787C2.97102 14.3687 3.03344 14.5518 3.12948 14.7176L4.73948 17.5001L3.12948 20.2826C2.93696 20.6177 2.88473 21.0153 2.98416 21.3888C3.0836 21.7622 3.32665 22.0812 3.66031 22.2762L6.44573 23.8862V27.093C6.44573 27.4798 6.59937 27.8507 6.87286 28.1242C7.14635 28.3977 7.51728 28.5514 7.90406 28.5514H11.1124L12.7224 31.3368C12.8515 31.5575 13.0358 31.7408 13.2573 31.8686C13.4787 31.9965 13.7296 32.0645 13.9853 32.066C14.2391 32.066 14.4913 31.9989 14.7159 31.8691L17.4984 30.2591L20.2839 31.8691C20.6186 32.0626 21.0165 32.1152 21.3901 32.0154C21.7637 31.9156 22.0823 31.6715 22.2759 31.3368L23.8845 28.5514H27.0913C27.4781 28.5514 27.8491 28.3977 28.1225 28.1242C28.396 27.8507 28.5497 27.4798 28.5497 27.093V23.8862L31.3351 22.2762C31.501 22.1803 31.6464 22.0526 31.763 21.9005C31.8795 21.7484 31.965 21.5748 32.0144 21.3897C32.0638 21.2046 32.0763 21.0115 32.0511 20.8215C32.0258 20.6316 31.9634 20.4484 31.8674 20.2826L30.2588 17.5001ZM13.8526 10.1939C14.433 10.1941 14.9895 10.4248 15.3997 10.8353C15.8099 11.2458 16.0403 11.8025 16.0401 12.3828C16.0399 12.9632 15.8092 13.5197 15.3987 13.9299C14.9882 14.3402 14.4315 14.5705 13.8511 14.5703C13.2708 14.5701 12.7143 14.3394 12.304 13.9289C11.8938 13.5184 11.6634 12.9617 11.6636 12.3814C11.6638 11.801 11.8946 11.2445 12.3051 10.8343C12.7156 10.424 13.2722 10.1937 13.8526 10.1939ZM14.2901 24.1939L11.9568 22.4453L20.7068 10.7787L23.0401 12.5272L14.2901 24.1939ZM21.1443 24.7772C20.8569 24.7771 20.5724 24.7204 20.3069 24.6104C20.0415 24.5003 19.8003 24.339 19.5972 24.1358C19.394 23.9325 19.2329 23.6912 19.1231 23.4257C19.0132 23.1602 18.9567 22.8756 18.9568 22.5882C18.9569 22.3009 19.0136 22.0164 19.1236 21.7509C19.2337 21.4854 19.3949 21.2443 19.5982 21.0411C19.8015 20.838 20.0427 20.6769 20.3083 20.567C20.5738 20.4572 20.8584 20.4006 21.1457 20.4007C21.7261 20.4009 22.2826 20.6317 22.6928 21.0422C23.1031 21.4527 23.3334 22.0093 23.3332 22.5897C23.333 23.1701 23.1023 23.7266 22.6918 24.1368C22.2813 24.547 21.7246 24.7774 21.1443 24.7772Z"
                    fill="#B3B29E"
                  />
                </svg>
                &nbsp;&nbsp; Extra 10% discount on your next
                order.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </div>
              <div className="pphm1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width={`${svgSize/1.5}`}
                  height={`${svgSize/1.5}`}
                  viewBox="0 0 35 35"
                  fill="none"
                >
                  <path
                    d="M30.2588 17.5001L31.8688 14.7176C32.0623 14.3828 32.115 13.9849 32.0152 13.6114C31.9153 13.2378 31.6713 12.9192 31.3366 12.7255L28.5511 11.1155V7.9072C28.5511 7.52043 28.3975 7.1495 28.124 6.87601C27.8505 6.60251 27.4796 6.44887 27.0928 6.44887H23.8859L22.2774 3.66491C22.0841 3.32998 21.7657 3.08553 21.3922 2.98533C21.2071 2.93575 21.0142 2.92311 20.8242 2.94813C20.6343 2.97315 20.4512 3.03535 20.2853 3.13116L17.4999 4.74116L14.7145 3.1297C14.3795 2.93632 13.9815 2.88392 13.6079 2.98402C13.2343 3.08411 12.9158 3.32851 12.7224 3.66345L11.1124 6.44887H7.90552C7.51874 6.44887 7.14781 6.60251 6.87432 6.87601C6.60083 7.1495 6.44718 7.52043 6.44718 7.9072V11.1141L3.66177 12.7241C3.49585 12.82 3.35046 12.9476 3.2339 13.0997C3.11734 13.2518 3.0319 13.4254 2.98247 13.6105C2.93303 13.7957 2.92057 13.9887 2.9458 14.1787C2.97102 14.3687 3.03344 14.5518 3.12948 14.7176L4.73948 17.5001L3.12948 20.2826C2.93696 20.6177 2.88473 21.0153 2.98416 21.3888C3.0836 21.7622 3.32665 22.0812 3.66031 22.2762L6.44573 23.8862V27.093C6.44573 27.4798 6.59937 27.8507 6.87286 28.1242C7.14635 28.3977 7.51728 28.5514 7.90406 28.5514H11.1124L12.7224 31.3368C12.8515 31.5575 13.0358 31.7408 13.2573 31.8686C13.4787 31.9965 13.7296 32.0645 13.9853 32.066C14.2391 32.066 14.4913 31.9989 14.7159 31.8691L17.4984 30.2591L20.2839 31.8691C20.6186 32.0626 21.0165 32.1152 21.3901 32.0154C21.7637 31.9156 22.0823 31.6715 22.2759 31.3368L23.8845 28.5514H27.0913C27.4781 28.5514 27.8491 28.3977 28.1225 28.1242C28.396 27.8507 28.5497 27.4798 28.5497 27.093V23.8862L31.3351 22.2762C31.501 22.1803 31.6464 22.0526 31.763 21.9005C31.8795 21.7484 31.965 21.5748 32.0144 21.3897C32.0638 21.2046 32.0763 21.0115 32.0511 20.8215C32.0258 20.6316 31.9634 20.4484 31.8674 20.2826L30.2588 17.5001ZM13.8526 10.1939C14.433 10.1941 14.9895 10.4248 15.3997 10.8353C15.8099 11.2458 16.0403 11.8025 16.0401 12.3828C16.0399 12.9632 15.8092 13.5197 15.3987 13.9299C14.9882 14.3402 14.4315 14.5705 13.8511 14.5703C13.2708 14.5701 12.7143 14.3394 12.304 13.9289C11.8938 13.5184 11.6634 12.9617 11.6636 12.3814C11.6638 11.801 11.8946 11.2445 12.3051 10.8343C12.7156 10.424 13.2722 10.1937 13.8526 10.1939ZM14.2901 24.1939L11.9568 22.4453L20.7068 10.7787L23.0401 12.5272L14.2901 24.1939ZM21.1443 24.7772C20.8569 24.7771 20.5724 24.7204 20.3069 24.6104C20.0415 24.5003 19.8003 24.339 19.5972 24.1358C19.394 23.9325 19.2329 23.6912 19.1231 23.4257C19.0132 23.1602 18.9567 22.8756 18.9568 22.5882C18.9569 22.3009 19.0136 22.0164 19.1236 21.7509C19.2337 21.4854 19.3949 21.2443 19.5982 21.0411C19.8015 20.838 20.0427 20.6769 20.3083 20.567C20.5738 20.4572 20.8584 20.4006 21.1457 20.4007C21.7261 20.4009 22.2826 20.6317 22.6928 21.0422C23.1031 21.4527 23.3334 22.0093 23.3332 22.5897C23.333 23.1701 23.1023 23.7266 22.6918 24.1368C22.2813 24.547 21.7246 24.7774 21.1443 24.7772Z"
                    fill="#B3B29E"
                  />
                </svg>
                &nbsp;&nbsp; Extra 10% discount on your next
                order.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </div>
            </div>
            <div className="pp-header-marquee2">
              <div className="pphm2">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width={`${svgSize/1.5}`}
                  height={`${svgSize/1.5}`}
                  viewBox="0 0 35 35"
                  fill="none"
                >
                  <path
                    d="M30.2588 17.5001L31.8688 14.7176C32.0623 14.3828 32.115 13.9849 32.0152 13.6114C31.9153 13.2378 31.6713 12.9192 31.3366 12.7255L28.5511 11.1155V7.9072C28.5511 7.52043 28.3975 7.1495 28.124 6.87601C27.8505 6.60251 27.4796 6.44887 27.0928 6.44887H23.8859L22.2774 3.66491C22.0841 3.32998 21.7657 3.08553 21.3922 2.98533C21.2071 2.93575 21.0142 2.92311 20.8242 2.94813C20.6343 2.97315 20.4512 3.03535 20.2853 3.13116L17.4999 4.74116L14.7145 3.1297C14.3795 2.93632 13.9815 2.88392 13.6079 2.98402C13.2343 3.08411 12.9158 3.32851 12.7224 3.66345L11.1124 6.44887H7.90552C7.51874 6.44887 7.14781 6.60251 6.87432 6.87601C6.60083 7.1495 6.44718 7.52043 6.44718 7.9072V11.1141L3.66177 12.7241C3.49585 12.82 3.35046 12.9476 3.2339 13.0997C3.11734 13.2518 3.0319 13.4254 2.98247 13.6105C2.93303 13.7957 2.92057 13.9887 2.9458 14.1787C2.97102 14.3687 3.03344 14.5518 3.12948 14.7176L4.73948 17.5001L3.12948 20.2826C2.93696 20.6177 2.88473 21.0153 2.98416 21.3888C3.0836 21.7622 3.32665 22.0812 3.66031 22.2762L6.44573 23.8862V27.093C6.44573 27.4798 6.59937 27.8507 6.87286 28.1242C7.14635 28.3977 7.51728 28.5514 7.90406 28.5514H11.1124L12.7224 31.3368C12.8515 31.5575 13.0358 31.7408 13.2573 31.8686C13.4787 31.9965 13.7296 32.0645 13.9853 32.066C14.2391 32.066 14.4913 31.9989 14.7159 31.8691L17.4984 30.2591L20.2839 31.8691C20.6186 32.0626 21.0165 32.1152 21.3901 32.0154C21.7637 31.9156 22.0823 31.6715 22.2759 31.3368L23.8845 28.5514H27.0913C27.4781 28.5514 27.8491 28.3977 28.1225 28.1242C28.396 27.8507 28.5497 27.4798 28.5497 27.093V23.8862L31.3351 22.2762C31.501 22.1803 31.6464 22.0526 31.763 21.9005C31.8795 21.7484 31.965 21.5748 32.0144 21.3897C32.0638 21.2046 32.0763 21.0115 32.0511 20.8215C32.0258 20.6316 31.9634 20.4484 31.8674 20.2826L30.2588 17.5001ZM13.8526 10.1939C14.433 10.1941 14.9895 10.4248 15.3997 10.8353C15.8099 11.2458 16.0403 11.8025 16.0401 12.3828C16.0399 12.9632 15.8092 13.5197 15.3987 13.9299C14.9882 14.3402 14.4315 14.5705 13.8511 14.5703C13.2708 14.5701 12.7143 14.3394 12.304 13.9289C11.8938 13.5184 11.6634 12.9617 11.6636 12.3814C11.6638 11.801 11.8946 11.2445 12.3051 10.8343C12.7156 10.424 13.2722 10.1937 13.8526 10.1939ZM14.2901 24.1939L11.9568 22.4453L20.7068 10.7787L23.0401 12.5272L14.2901 24.1939ZM21.1443 24.7772C20.8569 24.7771 20.5724 24.7204 20.3069 24.6104C20.0415 24.5003 19.8003 24.339 19.5972 24.1358C19.394 23.9325 19.2329 23.6912 19.1231 23.4257C19.0132 23.1602 18.9567 22.8756 18.9568 22.5882C18.9569 22.3009 19.0136 22.0164 19.1236 21.7509C19.2337 21.4854 19.3949 21.2443 19.5982 21.0411C19.8015 20.838 20.0427 20.6769 20.3083 20.567C20.5738 20.4572 20.8584 20.4006 21.1457 20.4007C21.7261 20.4009 22.2826 20.6317 22.6928 21.0422C23.1031 21.4527 23.3334 22.0093 23.3332 22.5897C23.333 23.1701 23.1023 23.7266 22.6918 24.1368C22.2813 24.547 21.7246 24.7774 21.1443 24.7772Z"
                    fill="#B3B29E"
                  />
                </svg>
                &nbsp;&nbsp; Flat 30% off on purchase of 3 or
                more.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </div>
              <div className="pphm2">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width={`${svgSize/1.5}`}
                  height={`${svgSize/1.5}`}
                  viewBox="0 0 35 35"
                  fill="none"
                >
                  <path
                    d="M30.2588 17.5001L31.8688 14.7176C32.0623 14.3828 32.115 13.9849 32.0152 13.6114C31.9153 13.2378 31.6713 12.9192 31.3366 12.7255L28.5511 11.1155V7.9072C28.5511 7.52043 28.3975 7.1495 28.124 6.87601C27.8505 6.60251 27.4796 6.44887 27.0928 6.44887H23.8859L22.2774 3.66491C22.0841 3.32998 21.7657 3.08553 21.3922 2.98533C21.2071 2.93575 21.0142 2.92311 20.8242 2.94813C20.6343 2.97315 20.4512 3.03535 20.2853 3.13116L17.4999 4.74116L14.7145 3.1297C14.3795 2.93632 13.9815 2.88392 13.6079 2.98402C13.2343 3.08411 12.9158 3.32851 12.7224 3.66345L11.1124 6.44887H7.90552C7.51874 6.44887 7.14781 6.60251 6.87432 6.87601C6.60083 7.1495 6.44718 7.52043 6.44718 7.9072V11.1141L3.66177 12.7241C3.49585 12.82 3.35046 12.9476 3.2339 13.0997C3.11734 13.2518 3.0319 13.4254 2.98247 13.6105C2.93303 13.7957 2.92057 13.9887 2.9458 14.1787C2.97102 14.3687 3.03344 14.5518 3.12948 14.7176L4.73948 17.5001L3.12948 20.2826C2.93696 20.6177 2.88473 21.0153 2.98416 21.3888C3.0836 21.7622 3.32665 22.0812 3.66031 22.2762L6.44573 23.8862V27.093C6.44573 27.4798 6.59937 27.8507 6.87286 28.1242C7.14635 28.3977 7.51728 28.5514 7.90406 28.5514H11.1124L12.7224 31.3368C12.8515 31.5575 13.0358 31.7408 13.2573 31.8686C13.4787 31.9965 13.7296 32.0645 13.9853 32.066C14.2391 32.066 14.4913 31.9989 14.7159 31.8691L17.4984 30.2591L20.2839 31.8691C20.6186 32.0626 21.0165 32.1152 21.3901 32.0154C21.7637 31.9156 22.0823 31.6715 22.2759 31.3368L23.8845 28.5514H27.0913C27.4781 28.5514 27.8491 28.3977 28.1225 28.1242C28.396 27.8507 28.5497 27.4798 28.5497 27.093V23.8862L31.3351 22.2762C31.501 22.1803 31.6464 22.0526 31.763 21.9005C31.8795 21.7484 31.965 21.5748 32.0144 21.3897C32.0638 21.2046 32.0763 21.0115 32.0511 20.8215C32.0258 20.6316 31.9634 20.4484 31.8674 20.2826L30.2588 17.5001ZM13.8526 10.1939C14.433 10.1941 14.9895 10.4248 15.3997 10.8353C15.8099 11.2458 16.0403 11.8025 16.0401 12.3828C16.0399 12.9632 15.8092 13.5197 15.3987 13.9299C14.9882 14.3402 14.4315 14.5705 13.8511 14.5703C13.2708 14.5701 12.7143 14.3394 12.304 13.9289C11.8938 13.5184 11.6634 12.9617 11.6636 12.3814C11.6638 11.801 11.8946 11.2445 12.3051 10.8343C12.7156 10.424 13.2722 10.1937 13.8526 10.1939ZM14.2901 24.1939L11.9568 22.4453L20.7068 10.7787L23.0401 12.5272L14.2901 24.1939ZM21.1443 24.7772C20.8569 24.7771 20.5724 24.7204 20.3069 24.6104C20.0415 24.5003 19.8003 24.339 19.5972 24.1358C19.394 23.9325 19.2329 23.6912 19.1231 23.4257C19.0132 23.1602 18.9567 22.8756 18.9568 22.5882C18.9569 22.3009 19.0136 22.0164 19.1236 21.7509C19.2337 21.4854 19.3949 21.2443 19.5982 21.0411C19.8015 20.838 20.0427 20.6769 20.3083 20.567C20.5738 20.4572 20.8584 20.4006 21.1457 20.4007C21.7261 20.4009 22.2826 20.6317 22.6928 21.0422C23.1031 21.4527 23.3334 22.0093 23.3332 22.5897C23.333 23.1701 23.1023 23.7266 22.6918 24.1368C22.2813 24.547 21.7246 24.7774 21.1443 24.7772Z"
                    fill="#B3B29E"
                  />
                </svg>
                &nbsp;&nbsp; Flat 30% off on purchase of 3 or
                more.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </div>
              <div className="pphm2">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width={`${svgSize/1.5}`}
                  height={`${svgSize/1.5}`}
                  viewBox="0 0 35 35"
                  fill="none"
                >
                  <path
                    d="M30.2588 17.5001L31.8688 14.7176C32.0623 14.3828 32.115 13.9849 32.0152 13.6114C31.9153 13.2378 31.6713 12.9192 31.3366 12.7255L28.5511 11.1155V7.9072C28.5511 7.52043 28.3975 7.1495 28.124 6.87601C27.8505 6.60251 27.4796 6.44887 27.0928 6.44887H23.8859L22.2774 3.66491C22.0841 3.32998 21.7657 3.08553 21.3922 2.98533C21.2071 2.93575 21.0142 2.92311 20.8242 2.94813C20.6343 2.97315 20.4512 3.03535 20.2853 3.13116L17.4999 4.74116L14.7145 3.1297C14.3795 2.93632 13.9815 2.88392 13.6079 2.98402C13.2343 3.08411 12.9158 3.32851 12.7224 3.66345L11.1124 6.44887H7.90552C7.51874 6.44887 7.14781 6.60251 6.87432 6.87601C6.60083 7.1495 6.44718 7.52043 6.44718 7.9072V11.1141L3.66177 12.7241C3.49585 12.82 3.35046 12.9476 3.2339 13.0997C3.11734 13.2518 3.0319 13.4254 2.98247 13.6105C2.93303 13.7957 2.92057 13.9887 2.9458 14.1787C2.97102 14.3687 3.03344 14.5518 3.12948 14.7176L4.73948 17.5001L3.12948 20.2826C2.93696 20.6177 2.88473 21.0153 2.98416 21.3888C3.0836 21.7622 3.32665 22.0812 3.66031 22.2762L6.44573 23.8862V27.093C6.44573 27.4798 6.59937 27.8507 6.87286 28.1242C7.14635 28.3977 7.51728 28.5514 7.90406 28.5514H11.1124L12.7224 31.3368C12.8515 31.5575 13.0358 31.7408 13.2573 31.8686C13.4787 31.9965 13.7296 32.0645 13.9853 32.066C14.2391 32.066 14.4913 31.9989 14.7159 31.8691L17.4984 30.2591L20.2839 31.8691C20.6186 32.0626 21.0165 32.1152 21.3901 32.0154C21.7637 31.9156 22.0823 31.6715 22.2759 31.3368L23.8845 28.5514H27.0913C27.4781 28.5514 27.8491 28.3977 28.1225 28.1242C28.396 27.8507 28.5497 27.4798 28.5497 27.093V23.8862L31.3351 22.2762C31.501 22.1803 31.6464 22.0526 31.763 21.9005C31.8795 21.7484 31.965 21.5748 32.0144 21.3897C32.0638 21.2046 32.0763 21.0115 32.0511 20.8215C32.0258 20.6316 31.9634 20.4484 31.8674 20.2826L30.2588 17.5001ZM13.8526 10.1939C14.433 10.1941 14.9895 10.4248 15.3997 10.8353C15.8099 11.2458 16.0403 11.8025 16.0401 12.3828C16.0399 12.9632 15.8092 13.5197 15.3987 13.9299C14.9882 14.3402 14.4315 14.5705 13.8511 14.5703C13.2708 14.5701 12.7143 14.3394 12.304 13.9289C11.8938 13.5184 11.6634 12.9617 11.6636 12.3814C11.6638 11.801 11.8946 11.2445 12.3051 10.8343C12.7156 10.424 13.2722 10.1937 13.8526 10.1939ZM14.2901 24.1939L11.9568 22.4453L20.7068 10.7787L23.0401 12.5272L14.2901 24.1939ZM21.1443 24.7772C20.8569 24.7771 20.5724 24.7204 20.3069 24.6104C20.0415 24.5003 19.8003 24.339 19.5972 24.1358C19.394 23.9325 19.2329 23.6912 19.1231 23.4257C19.0132 23.1602 18.9567 22.8756 18.9568 22.5882C18.9569 22.3009 19.0136 22.0164 19.1236 21.7509C19.2337 21.4854 19.3949 21.2443 19.5982 21.0411C19.8015 20.838 20.0427 20.6769 20.3083 20.567C20.5738 20.4572 20.8584 20.4006 21.1457 20.4007C21.7261 20.4009 22.2826 20.6317 22.6928 21.0422C23.1031 21.4527 23.3334 22.0093 23.3332 22.5897C23.333 23.1701 23.1023 23.7266 22.6918 24.1368C22.2813 24.547 21.7246 24.7774 21.1443 24.7772Z"
                    fill="#B3B29E"
                  />
                </svg>
                &nbsp;&nbsp; Flat 30% off on purchase of 3 or
                more.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </div>
              <div className="pphm2">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width={`${svgSize/1.5}`}
                  height={`${svgSize/1.5}`}
                  viewBox="0 0 35 35"
                  fill="none"
                >
                  <path
                    d="M30.2588 17.5001L31.8688 14.7176C32.0623 14.3828 32.115 13.9849 32.0152 13.6114C31.9153 13.2378 31.6713 12.9192 31.3366 12.7255L28.5511 11.1155V7.9072C28.5511 7.52043 28.3975 7.1495 28.124 6.87601C27.8505 6.60251 27.4796 6.44887 27.0928 6.44887H23.8859L22.2774 3.66491C22.0841 3.32998 21.7657 3.08553 21.3922 2.98533C21.2071 2.93575 21.0142 2.92311 20.8242 2.94813C20.6343 2.97315 20.4512 3.03535 20.2853 3.13116L17.4999 4.74116L14.7145 3.1297C14.3795 2.93632 13.9815 2.88392 13.6079 2.98402C13.2343 3.08411 12.9158 3.32851 12.7224 3.66345L11.1124 6.44887H7.90552C7.51874 6.44887 7.14781 6.60251 6.87432 6.87601C6.60083 7.1495 6.44718 7.52043 6.44718 7.9072V11.1141L3.66177 12.7241C3.49585 12.82 3.35046 12.9476 3.2339 13.0997C3.11734 13.2518 3.0319 13.4254 2.98247 13.6105C2.93303 13.7957 2.92057 13.9887 2.9458 14.1787C2.97102 14.3687 3.03344 14.5518 3.12948 14.7176L4.73948 17.5001L3.12948 20.2826C2.93696 20.6177 2.88473 21.0153 2.98416 21.3888C3.0836 21.7622 3.32665 22.0812 3.66031 22.2762L6.44573 23.8862V27.093C6.44573 27.4798 6.59937 27.8507 6.87286 28.1242C7.14635 28.3977 7.51728 28.5514 7.90406 28.5514H11.1124L12.7224 31.3368C12.8515 31.5575 13.0358 31.7408 13.2573 31.8686C13.4787 31.9965 13.7296 32.0645 13.9853 32.066C14.2391 32.066 14.4913 31.9989 14.7159 31.8691L17.4984 30.2591L20.2839 31.8691C20.6186 32.0626 21.0165 32.1152 21.3901 32.0154C21.7637 31.9156 22.0823 31.6715 22.2759 31.3368L23.8845 28.5514H27.0913C27.4781 28.5514 27.8491 28.3977 28.1225 28.1242C28.396 27.8507 28.5497 27.4798 28.5497 27.093V23.8862L31.3351 22.2762C31.501 22.1803 31.6464 22.0526 31.763 21.9005C31.8795 21.7484 31.965 21.5748 32.0144 21.3897C32.0638 21.2046 32.0763 21.0115 32.0511 20.8215C32.0258 20.6316 31.9634 20.4484 31.8674 20.2826L30.2588 17.5001ZM13.8526 10.1939C14.433 10.1941 14.9895 10.4248 15.3997 10.8353C15.8099 11.2458 16.0403 11.8025 16.0401 12.3828C16.0399 12.9632 15.8092 13.5197 15.3987 13.9299C14.9882 14.3402 14.4315 14.5705 13.8511 14.5703C13.2708 14.5701 12.7143 14.3394 12.304 13.9289C11.8938 13.5184 11.6634 12.9617 11.6636 12.3814C11.6638 11.801 11.8946 11.2445 12.3051 10.8343C12.7156 10.424 13.2722 10.1937 13.8526 10.1939ZM14.2901 24.1939L11.9568 22.4453L20.7068 10.7787L23.0401 12.5272L14.2901 24.1939ZM21.1443 24.7772C20.8569 24.7771 20.5724 24.7204 20.3069 24.6104C20.0415 24.5003 19.8003 24.339 19.5972 24.1358C19.394 23.9325 19.2329 23.6912 19.1231 23.4257C19.0132 23.1602 18.9567 22.8756 18.9568 22.5882C18.9569 22.3009 19.0136 22.0164 19.1236 21.7509C19.2337 21.4854 19.3949 21.2443 19.5982 21.0411C19.8015 20.838 20.0427 20.6769 20.3083 20.567C20.5738 20.4572 20.8584 20.4006 21.1457 20.4007C21.7261 20.4009 22.2826 20.6317 22.6928 21.0422C23.1031 21.4527 23.3334 22.0093 23.3332 22.5897C23.333 23.1701 23.1023 23.7266 22.6918 24.1368C22.2813 24.547 21.7246 24.7774 21.1443 24.7772Z"
                    fill="#B3B29E"
                  />
                </svg>
                &nbsp;&nbsp; Flat 30% off on purchase of 3 or
                more.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </div>
              <div className="pphm2">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width={`${svgSize/1.5}`}
                  height={`${svgSize/1.5}`}
                  viewBox="0 0 35 35"
                  fill="none"
                >
                  <path
                    d="M30.2588 17.5001L31.8688 14.7176C32.0623 14.3828 32.115 13.9849 32.0152 13.6114C31.9153 13.2378 31.6713 12.9192 31.3366 12.7255L28.5511 11.1155V7.9072C28.5511 7.52043 28.3975 7.1495 28.124 6.87601C27.8505 6.60251 27.4796 6.44887 27.0928 6.44887H23.8859L22.2774 3.66491C22.0841 3.32998 21.7657 3.08553 21.3922 2.98533C21.2071 2.93575 21.0142 2.92311 20.8242 2.94813C20.6343 2.97315 20.4512 3.03535 20.2853 3.13116L17.4999 4.74116L14.7145 3.1297C14.3795 2.93632 13.9815 2.88392 13.6079 2.98402C13.2343 3.08411 12.9158 3.32851 12.7224 3.66345L11.1124 6.44887H7.90552C7.51874 6.44887 7.14781 6.60251 6.87432 6.87601C6.60083 7.1495 6.44718 7.52043 6.44718 7.9072V11.1141L3.66177 12.7241C3.49585 12.82 3.35046 12.9476 3.2339 13.0997C3.11734 13.2518 3.0319 13.4254 2.98247 13.6105C2.93303 13.7957 2.92057 13.9887 2.9458 14.1787C2.97102 14.3687 3.03344 14.5518 3.12948 14.7176L4.73948 17.5001L3.12948 20.2826C2.93696 20.6177 2.88473 21.0153 2.98416 21.3888C3.0836 21.7622 3.32665 22.0812 3.66031 22.2762L6.44573 23.8862V27.093C6.44573 27.4798 6.59937 27.8507 6.87286 28.1242C7.14635 28.3977 7.51728 28.5514 7.90406 28.5514H11.1124L12.7224 31.3368C12.8515 31.5575 13.0358 31.7408 13.2573 31.8686C13.4787 31.9965 13.7296 32.0645 13.9853 32.066C14.2391 32.066 14.4913 31.9989 14.7159 31.8691L17.4984 30.2591L20.2839 31.8691C20.6186 32.0626 21.0165 32.1152 21.3901 32.0154C21.7637 31.9156 22.0823 31.6715 22.2759 31.3368L23.8845 28.5514H27.0913C27.4781 28.5514 27.8491 28.3977 28.1225 28.1242C28.396 27.8507 28.5497 27.4798 28.5497 27.093V23.8862L31.3351 22.2762C31.501 22.1803 31.6464 22.0526 31.763 21.9005C31.8795 21.7484 31.965 21.5748 32.0144 21.3897C32.0638 21.2046 32.0763 21.0115 32.0511 20.8215C32.0258 20.6316 31.9634 20.4484 31.8674 20.2826L30.2588 17.5001ZM13.8526 10.1939C14.433 10.1941 14.9895 10.4248 15.3997 10.8353C15.8099 11.2458 16.0403 11.8025 16.0401 12.3828C16.0399 12.9632 15.8092 13.5197 15.3987 13.9299C14.9882 14.3402 14.4315 14.5705 13.8511 14.5703C13.2708 14.5701 12.7143 14.3394 12.304 13.9289C11.8938 13.5184 11.6634 12.9617 11.6636 12.3814C11.6638 11.801 11.8946 11.2445 12.3051 10.8343C12.7156 10.424 13.2722 10.1937 13.8526 10.1939ZM14.2901 24.1939L11.9568 22.4453L20.7068 10.7787L23.0401 12.5272L14.2901 24.1939ZM21.1443 24.7772C20.8569 24.7771 20.5724 24.7204 20.3069 24.6104C20.0415 24.5003 19.8003 24.339 19.5972 24.1358C19.394 23.9325 19.2329 23.6912 19.1231 23.4257C19.0132 23.1602 18.9567 22.8756 18.9568 22.5882C18.9569 22.3009 19.0136 22.0164 19.1236 21.7509C19.2337 21.4854 19.3949 21.2443 19.5982 21.0411C19.8015 20.838 20.0427 20.6769 20.3083 20.567C20.5738 20.4572 20.8584 20.4006 21.1457 20.4007C21.7261 20.4009 22.2826 20.6317 22.6928 21.0422C23.1031 21.4527 23.3334 22.0093 23.3332 22.5897C23.333 23.1701 23.1023 23.7266 22.6918 24.1368C22.2813 24.547 21.7246 24.7774 21.1443 24.7772Z"
                    fill="#B3B29E"
                  />
                </svg>
                &nbsp;&nbsp; Flat 30% off on purchase of 3 or
                more.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </div>
            </div>
            <div className="pp-header-pagination">
              <div className="pphp-category">{slugString}</div>
              <div className="pphp-text">
                (Showing 1 – 20 products of 2,014 products)
              </div>
            </div>
            <div className="pp-header-button blur">
              <div className="pp-header-button-text">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sort by:&nbsp;
              </div>
              <div
                onClick={() => setSortButtonActive((prev) => !prev)}
                className={
                  sortButtonActive
                    ? `pp-header-button-cover-active`
                    : `pp-header-button-cover`
                }
              >
                <div className="pp-header-button-sort">
                  <div
                    className="pp-header-sort-options"
                    style={{
                      cursor: "pointer",
                      padding: "2.25vh 1.5vh 1.5vh 1.5vh",
                      display: "flex",
                      justifyContent: "space-around",
                      alignItems: "center",
                      userSelect: "none",
                    }}
                  >
                    <span>{formatSortOption(selectedSort)}</span>
                    {/* <span style={{ fontWeight: "600" }}>Price:</span>
                    <span>Low to High</span> */}
                    <span
                      style={{
                        transform: sortButtonActive
                          ? "rotate(90deg)"
                          : "rotate(0deg)",
                        transition: "transform 0.3s",
                      }}
                    >
                      ⏵
                    </span>
                  </div>

                  {/* Content */}
                  <div
                    style={{
                      maxHeight: sortButtonActive ? "15vh" : "0vh",
                      overflow: "hidden",
                      transition: "all 0.3s ease",
                      padding: "0vh 0vh 0.5vh 0vh",
                    }}
                  >
                    {availableSorts.map((option, index) => (
                      <div
                        key={index}
                        onClick={() => handleSortChange(option)}
                        className="pp-header-sort-options"
                        style={{
                          cursor: "pointer",
                          padding: "0vh 1.5vh 1.5vh 2.25vh",
                          display: "flex",
                          justifyContent: "flex-start",
                          alignItems: "center",
                          userSelect: "none",
                        }}
                      >
                        <span>{formatSortOption(option)}</span>
                        {/* <span>High to Low</span> */}
                        <span>&nbsp;&nbsp;</span>
                      </div>
                    ))}

                    {/* <div
                      style={{
                        cursor: "pointer",
                        padding: "0vh 1.5vh 1.5vh 1.5vh",
                        display: "flex",
                        justifyContent: "space-around",
                        alignItems: "center",
                        userSelect: "none",
                      }}
                    >
                      <span style={{ fontWeight: "600" }}>Best Sellers</span>
                      <span>First</span>
                      <span>&nbsp;&nbsp;</span>
                    </div>
                    <div
                      style={{
                        cursor: "pointer",
                        padding: "0vh 1.5vh 1.5vh 1.5vh",
                        display: "flex",
                        justifyContent: "space-around",
                        alignItems: "center",
                        userSelect: "none",
                      }}
                    >
                      <span style={{ fontWeight: "600" }}>Newest </span>
                      <span>First</span>
                      <span>&nbsp;&nbsp;</span>
                    </div> */}
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div className="pp-cards">
            {products?.map((product) => (
              <ProductCard key={product.product_id} product={product} />
            ))}
          </div>
          <div className="pp-footer-space"></div>
        </div>
      </section>
    </>
  );
}
